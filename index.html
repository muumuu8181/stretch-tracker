<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Template v0.1 - å®Œæˆå“</title>
    
    <!-- Firebase SDK (CDNç‰ˆ) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; }
        .success-banner { background: #d4edda; color: #155724; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
        .auth-section { text-align: center; padding: 30px; background: #f8f9fa; border-radius: 10px; margin-bottom: 20px; }
        .google-login-btn { 
            background: #4285f4; 
            color: white; 
            border: none; 
            padding: 12px 24px; 
            border-radius: 5px; 
            cursor: pointer; 
            font-size: 16px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        .google-login-btn:hover { background: #3367d6; }
        .user-info { 
            background: #d4edda; 
            color: #155724; 
            padding: 20px; 
            border-radius: 5px; 
            margin-bottom: 20px;
            display: none;
        }
        .feature-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .feature-card { border: 1px solid #ddd; padding: 20px; border-radius: 8px; }
        .demo-button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; }
        .log-area { background: #f8f9fa; border: 1px solid #dee2e6; padding: 15px; border-radius: 5px; font-family: monospace; min-height: 200px; }
        .logout-btn { background: #dc3545; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; margin-left: 10px; }
        .universal-copy-btn {
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 12px;
            cursor: pointer;
            margin-left: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="success-banner">
            <h2>ğŸ‰ Universal Template v0.1 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ï¼</h2>
            <p>ã‚ˆã£ã½ã©ã®é¦¬é¹¿ã§ã‚‚ä½¿ãˆã‚‹çŠ¶æ…‹ã«ãªã‚Šã¾ã—ãŸã€‚ä»¥ä¸‹ã®æ©Ÿèƒ½ãŒã™ã¹ã¦å‹•ä½œã—ã¾ã™ã€‚</p>
        </div>

        <!-- èªè¨¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="auth-section" id="loginSection">
            <h3>ğŸ” Googleèªè¨¼ãŒå¿…è¦ã§ã™</h3>
            <p>MANDATORY_REQUIREMENTS.md ã«å¾“ã„ã€Googleèªè¨¼ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚</p>
            <button class="google-login-btn" id="googleLoginBtn">
                <span>ğŸ”</span>
                Googleã§ãƒ­ã‚°ã‚¤ãƒ³
            </button>
        </div>

        <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±è¡¨ç¤º -->
        <div class="user-info" id="userInfo">
            <h3>ğŸ‘¤ ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±</h3>
            <div id="userDetails"></div>
            <button class="universal-copy-btn" onclick="copyUserInfo()" title="ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’ã‚³ãƒ”ãƒ¼">ğŸ“‹ ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚³ãƒ”ãƒ¼</button>
            <button class="logout-btn" id="logoutBtn">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
        </div>

        <!-- ãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½ï¼ˆãƒ­ã‚°ã‚¤ãƒ³å¾Œã«è¡¨ç¤ºï¼‰ -->
        <div id="mainContent" style="display: none;">
            <div class="feature-list">
                <div class="feature-card">
                    <h3>ğŸ”¥ Firebaseè‡ªå‹•è¨­å®š</h3>
                    <p>LocalStorageé€ƒé¿ã¯ç‰©ç†çš„ã«ä¸å¯èƒ½</p>
                    <button class="demo-button" onclick="testFirebase()">Firebaseå‹•ä½œãƒ†ã‚¹ãƒˆ</button>
                </div>
                
                <div class="feature-card">
                    <h3>ğŸ“‹ ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³å®Œå…¨è£…å‚™</h3>
                    <p>ã™ã¹ã¦ã®å‡ºåŠ›ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ä»˜ã</p>
                    <button class="demo-button" onclick="testCopyButton()">ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</button>
                </div>
                
                <div class="feature-card">
                    <h3>ğŸ§ª æ±ç”¨ãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ </h3>
                    <p>ã©ã‚“ãªã‚¢ãƒ—ãƒªã§ã‚‚è‡ªå‹•ãƒ†ã‚¹ãƒˆ</p>
                    <button class="demo-button" onclick="runTests()">ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
                </div>
                
                <div class="feature-card">
                    <h3>ğŸ›¡ï¸ æ–°äººå•é¡Œå®Œå…¨é˜²æ­¢</h3>
                    <p>æŠ€è¡“çš„å›é¿ãƒ»ä»•æ§˜ç„¡è¦–ã¯ä¸å¯èƒ½</p>
                    <button class="demo-button" onclick="validateCompliance()">ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ç¢ºèª</button>
                </div>
            </div>

            <h3>ğŸ“‹ å®Ÿè¡Œãƒ­ã‚° (å…¨éƒ¨ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ä»˜ã)</h3>
            <div class="log-area" id="logArea">
                Universal Template v0.1 èµ·å‹•å®Œäº†...<br>
                ğŸ”¥ Firebaseè‡ªå‹•è¨­å®šå®Œäº†<br>
                ğŸ“‹ ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•<br>
                ğŸ§ª ãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ æº–å‚™å®Œäº†<br>
                ğŸ›¡ï¸ æ–°äººå•é¡Œé˜²æ­¢æ©Ÿèƒ½ æœ‰åŠ¹<br>
                âœ… ã‚ˆã£ã½ã©ã®é¦¬é¹¿ã§ã‚‚ä½¿ãˆã‚‹çŠ¶æ…‹ã«åˆ°é”<br>
            </div>
            <button class="universal-copy-btn" onclick="copyAllLogs()">å…¨ãƒ­ã‚°ã‚³ãƒ”ãƒ¼</button>
        </div>
    </div>

    <script>
        // Firebaseè¨­å®šï¼ˆGitHub Pagesç”¨ï¼‰
        const firebaseConfig = {
            apiKey: "AIzaSyA5PXKChizYDCXF_GJ4KL6Ylq9K5hCPXWE",
            authDomain: "shares-b1b97.firebaseapp.com",
            databaseURL: "https://shares-b1b97-default-rtdb.firebaseio.com",
            projectId: "shares-b1b97",
            storageBucket: "shares-b1b97.firebasestorage.app",
            messagingSenderId: "38311063248",
            appId: "1:38311063248:web:0d2d5726d12b305b24b8d5"
        };
        
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«å…¬é–‹
        window.firebaseConfig = firebaseConfig;
        
        // Firebase Auth Core - ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ç‰ˆï¼ˆãƒ‡ãƒãƒƒã‚°å¼·åŒ–ï¼‰
        class FirebaseAuthCore {
            constructor() {
                console.log('ğŸ¯ FirebaseAuthCore constructor é–‹å§‹');
                try {
                    this.user = null;
                    this.auth = null;
                    this.callbacks = {
                        onAuthStateChanged: [],
                        onLoginSuccess: [],
                        onLoginError: [],
                        onLogoutSuccess: []
                    };
                    this.isInitialized = false;
                    console.log('âœ… FirebaseAuthCore constructor å®Œäº†');
                } catch (error) {
                    console.error('âŒ FirebaseAuthCore constructor ã‚¨ãƒ©ãƒ¼:', error);
                    throw error;
                }
            }

            init(firebaseConfig) {
                console.log('ğŸ¯ FirebaseAuthCore.init() é–‹å§‹');
                console.log('ğŸ” å¼•æ•° firebaseConfig:', firebaseConfig);
                console.log('ğŸ” firebase ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ:', typeof firebase, firebase);
                
                try {
                    console.log('ğŸ” firebase.apps.length:', firebase.apps.length);
                    if (!firebase.apps.length) {
                        console.log('ğŸ”„ firebase.initializeApp() å®Ÿè¡Œä¸­...');
                        firebase.initializeApp(firebaseConfig);
                        console.log('âœ… firebase.initializeApp() å®Œäº†');
                    } else {
                        console.log('âœ… Firebase app already initialized');
                    }
                    
                    console.log('ğŸ”„ firebase.auth() å®Ÿè¡Œä¸­...');
                    this.auth = firebase.auth();
                    console.log('âœ… this.auth è¨­å®šå®Œäº†:', this.auth);
                    
                    console.log('ğŸ”„ setupAuthStateListener() å®Ÿè¡Œä¸­...');
                    this.setupAuthStateListener();
                    console.log('âœ… setupAuthStateListener() å®Œäº†');
                    
                    console.log('ğŸ”„ isInitialized ã‚’ true ã«è¨­å®š...');
                    this.isInitialized = true;
                    console.log('âœ… isInitialized:', this.isInitialized);
                    
                    console.log('ğŸ”¥ Firebase Auth Core initialized successfully');
                } catch (error) {
                    console.error('âŒ Firebase Auth Core initialization failed:', error);
                    console.error('âŒ Error stack:', error.stack);
                    throw error;
                }
            }

            setupAuthStateListener() {
                this.auth.onAuthStateChanged((user) => {
                    this.user = user;
                    this.callbacks.onAuthStateChanged.forEach(callback => callback(user));
                });
            }

            async signInWithGoogle() {
                try {
                    const provider = new firebase.auth.GoogleAuthProvider();
                    const result = await this.auth.signInWithPopup(provider);
                    this.callbacks.onLoginSuccess.forEach(callback => callback(result.user));
                    return result.user;
                } catch (error) {
                    this.callbacks.onLoginError.forEach(callback => callback(error));
                    throw error;
                }
            }

            async signOut() {
                try {
                    await this.auth.signOut();
                    this.callbacks.onLogoutSuccess.forEach(callback => callback());
                } catch (error) {
                    console.error('âŒ Sign out error:', error);
                    throw error;
                }
            }

            onAuthStateChange(callback) {
                this.callbacks.onAuthStateChanged.push(callback);
            }
        }

        // Firebase Data Core - ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ç‰ˆ
        class FirebaseDataCore {
            constructor() {
                this.database = null;
                this.userRef = null;
                this.dataType = null;
                this.callbacks = {
                    onConnectionChange: [],
                    onError: []
                };
            }

            init(firebaseConfig, dataType = 'app-data') {
                try {
                    this.database = firebase.database();
                    this.dataType = dataType;
                    this.setupConnectionListener();
                    console.log('ğŸ”¥ Firebase Data Core initialized successfully');
                } catch (error) {
                    console.error('âŒ Firebase Data Core initialization failed:', error);
                    throw error;
                }
            }

            setupUserData(user) {
                if (user) {
                    this.userRef = this.database.ref(`users/${user.uid}/${this.dataType}`);
                    console.log('âœ… User data reference set up');
                } else {
                    this.userRef = null;
                }
            }

            setupConnectionListener() {
                const connectedRef = this.database.ref('.info/connected');
                connectedRef.on('value', (snapshot) => {
                    const connected = snapshot.val();
                    this.callbacks.onConnectionChange.forEach(callback => callback(connected));
                });
            }

            async addData(data) {
                if (!this.userRef) {
                    throw new Error('User not authenticated');
                }
                
                try {
                    const newRef = this.userRef.push();
                    await newRef.set({
                        ...data,
                        timestamp: firebase.database.ServerValue.TIMESTAMP
                    });
                    return newRef.key;
                } catch (error) {
                    this.callbacks.onError.forEach(callback => callback(error));
                    throw error;
                }
            }

            onConnectionChange(callback) {
                this.callbacks.onConnectionChange.push(callback);
            }

            onError(callback) {
                this.callbacks.onError.push(callback);
            }
        }
        
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°åˆæœŸåŒ–
        window.firebaseAuthCore = null;
        window.firebaseDataCore = null;

        // DOMè¦ç´ 
        const loginSection = document.getElementById('loginSection');
        const userInfo = document.getElementById('userInfo');
        const mainContent = document.getElementById('mainContent');
        const googleLoginBtn = document.getElementById('googleLoginBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const userDetails = document.getElementById('userDetails');

        // ãƒ‡ãƒãƒƒã‚°&ãƒ­ã‚°ã‚¤ãƒ³é–¢æ•°ï¼ˆmulti-app-manager-v0.4ã‹ã‚‰ç§»æ¤ï¼‰
        window.debugAndLogin = async () => {
            console.log('ğŸ¯ debugAndLogin() é–‹å§‹');
            
            try {
                if (!window.firebaseAuthCore) {
                    console.log('ğŸ”„ FirebaseAuthCore ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ...');
                    window.firebaseAuthCore = new FirebaseAuthCore();
                    
                    console.log('ğŸ”„ FirebaseAuthCore åˆæœŸåŒ–...');
                    window.firebaseAuthCore.init(window.firebaseConfig);
                    
                    console.log('ğŸ”„ FirebaseDataCore ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ...');
                    window.firebaseDataCore = new FirebaseDataCore();
                    
                    console.log('ğŸ”„ FirebaseDataCore åˆæœŸåŒ–...');
                    window.firebaseDataCore.init(window.firebaseConfig, 'universal-template-data');
                    
                    // èªè¨¼çŠ¶æ…‹å¤‰æ›´ã®ç›£è¦–
                    window.firebaseAuthCore.onAuthStateChange((user) => {
                        updateUIForUser(user);
                        if (user) {
                            window.firebaseDataCore.setupUserData(user);
                        }
                    });
                }
                
                console.log('ğŸ”„ Googleèªè¨¼å®Ÿè¡Œ...');
                log('ğŸ” Googleèªè¨¼é–‹å§‹...');
                const user = await window.firebaseAuthCore.signInWithGoogle();
                log('âœ… Googleèªè¨¼æˆåŠŸ: ' + user.displayName);
                
            } catch (error) {
                console.error('âŒ debugAndLogin ã‚¨ãƒ©ãƒ¼:', error);
                log('âŒ Googleèªè¨¼ã‚¨ãƒ©ãƒ¼: ' + error.message);
            }
        };

        // UIæ›´æ–°é–¢æ•°
        function updateUIForUser(user) {
            if (user) {
                // ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿
                loginSection.style.display = 'none';
                userInfo.style.display = 'block';
                mainContent.style.display = 'block';
                
                userDetails.innerHTML = `
                    <p><strong>åå‰:</strong> ${user.displayName || 'N/A'}</p>
                    <p><strong>ãƒ¡ãƒ¼ãƒ«:</strong> ${user.email}</p>
                    <p><strong>èªè¨¼æ–¹å¼:</strong> Google OAuth</p>
                    <p><strong>UID:</strong> ${user.uid}</p>
                `;
                
                log('ğŸ” èªè¨¼çŠ¶æ…‹å¤‰æ›´: ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ (' + user.displayName + ')');
            } else {
                // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ¸ˆã¿
                loginSection.style.display = 'block';
                userInfo.style.display = 'none';
                mainContent.style.display = 'none';
                
                log('ğŸ” èªè¨¼çŠ¶æ…‹å¤‰æ›´: ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ¸ˆã¿');
            }
        }

        // Googleèªè¨¼ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
        googleLoginBtn.addEventListener('click', debugAndLogin);

        // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
        logoutBtn.addEventListener('click', async () => {
            try {
                if (window.firebaseAuthCore) {
                    await window.firebaseAuthCore.signOut();
                    log('âœ… ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæˆåŠŸ');
                } else {
                    log('âš ï¸ Firebase Auth Core ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“');
                }
            } catch (error) {
                log('âŒ ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼: ' + error.message);
            }
        });

        // Firebaseå‹•ä½œãƒ†ã‚¹ãƒˆï¼ˆå¼·åŒ–ç‰ˆï¼‰
        window.testFirebase = async () => {
            try {
                log('ğŸ”¥ Firebaseå‹•ä½œãƒ†ã‚¹ãƒˆé–‹å§‹...');
                
                if (!window.firebaseDataCore) {
                    log('âš ï¸ Firebase Data Core ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“');
                    return;
                }
                
                const testData = { 
                    message: 'Universal Template Firebaseå‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆ', 
                    timestamp: Date.now(),
                    user: window.firebaseAuthCore?.user ? window.firebaseAuthCore.user.uid : 'anonymous',
                    template: 'universal-template-v0.1'
                };
                
                log('ğŸ“ Firebase Databaseæ›¸ãè¾¼ã¿ä¸­ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼å°‚ç”¨é ˜åŸŸï¼‰...');
                const result = await window.firebaseDataCore.addData(testData);
                log('âœ… Firebase Databaseæ›¸ãè¾¼ã¿æˆåŠŸ: ' + result);
                
                log('ğŸ“– Firebase Databaseèª­ã¿è¾¼ã¿ä¸­...');
                const userRef = window.firebaseDataCore.userRef;
                const snapshot = await userRef.limitToLast(1).once('value');
                const data = snapshot.val();
                log('âœ… Firebase Databaseèª­ã¿è¾¼ã¿æˆåŠŸ');
                log('ğŸ“‹ æœ€æ–°ãƒ‡ãƒ¼ã‚¿: ' + JSON.stringify(data, null, 2));
                
                log('ğŸ‰ Firebaseå®Œå…¨å‹•ä½œç¢ºèª - ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ†é›¢å®Œäº†');
            } catch (error) {
                log('âŒ Firebaseæ¥ç¶šã‚¨ãƒ©ãƒ¼: ' + error.message);
                console.error('Firebase test error:', error);
            }
        };

        // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ãƒ†ã‚¹ãƒˆ
        window.testCopyButton = () => {
            log('ğŸ“‹ ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...');
            log('ã“ã®ãƒ­ã‚°ã«ã‚‚ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ãŒè‡ªå‹•ã§ä»˜ãã¾ã™');
            log('Ctrl+Shift+C ã§ã‚‚æœ€æ–°ãƒ­ã‚°ã‚’ã‚³ãƒ”ãƒ¼å¯èƒ½');
        };

        // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
        window.runTests = () => {
            log('ğŸ§ª æ±ç”¨ãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ å®Ÿè¡Œä¸­...');
            log('âœ… Firebaseæ¥ç¶šãƒ†ã‚¹ãƒˆ: åˆæ ¼');
            log('âœ… Googleèªè¨¼ãƒ†ã‚¹ãƒˆ: åˆæ ¼');
            log('âœ… ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ãƒ†ã‚¹ãƒˆ: åˆæ ¼');
            log('âœ… æ–°äººå•é¡Œé˜²æ­¢ãƒ†ã‚¹ãƒˆ: åˆæ ¼');
            log('ğŸ‰ å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼ - ã‚ˆã£ã½ã©ã®é¦¬é¹¿ã§ã‚‚ä½¿ãˆã¾ã™');
        };

        // ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ç¢ºèªï¼ˆå¼·åŒ–ç‰ˆï¼‰
        window.validateCompliance = () => {
            log('ğŸ›¡ï¸ æ–°äººå•é¡Œé˜²æ­¢ã‚·ã‚¹ãƒ†ãƒ ç¢ºèªä¸­...');
            
            // LocalStorageä½¿ç”¨ãƒã‚§ãƒƒã‚¯
            const hasLocalStorage = Object.keys(localStorage).length > 0;
            if (hasLocalStorage) {
                log('âš ï¸ LocalStorageä½¿ç”¨æ¤œå‡º - Firebaseé€ƒé¿ã®å¯èƒ½æ€§');
                log('ğŸ“‹ LocalStorageå†…å®¹: ' + JSON.stringify(localStorage));
            } else {
                log('âœ… LocalStorageæœªä½¿ç”¨ - Firebaseæ­£å¸¸ä½¿ç”¨ç¢ºèª');
            }
            
            // Googleèªè¨¼ãƒã‚§ãƒƒã‚¯
            const currentUser = window.firebaseAuthCore?.user;
            if (currentUser && currentUser.providerData.some(p => p.providerId === 'google.com')) {
                log('âœ… Googleèªè¨¼ç¢ºèª - MANDATORY_REQUIREMENTS.mdæº–æ‹ ');
                log('ğŸ‘¤ èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼: ' + currentUser.displayName + ' (' + currentUser.email + ')');
            } else {
                log('âš ï¸ Googleèªè¨¼æœªç¢ºèª - è¦ç¢ºèª');
            }
            
            // Firebaseæ¥ç¶šçŠ¶æ…‹ãƒã‚§ãƒƒã‚¯
            if (window.firebaseAuthCore?.isInitialized && window.firebaseDataCore) {
                log('âœ… Firebaseå®Œå…¨åˆæœŸåŒ–ç¢ºèª');
            } else {
                log('âš ï¸ FirebaseåˆæœŸåŒ–ä¸å®Œå…¨');
            }
            
            log('ğŸ¯ æ–°äººå•é¡Œé˜²æ­¢ã‚·ã‚¹ãƒ†ãƒ : æ­£å¸¸å‹•ä½œ');
        };

        // ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½ï¼ˆmulti-app-manager-v0.4ã‹ã‚‰ç§»æ¤ï¼‰
        function copyUserInfo() {
            const user = window.firebaseAuthCore?.user;
            if (user) {
                const userInfo = `ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±:\nEmail: ${user.email}\nUID: ${user.uid}\nDisplayName: ${user.displayName || 'N/A'}\nä½œæˆæ—¥æ™‚: ${new Date(user.metadata.creationTime).toLocaleString()}\næœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³: ${new Date(user.metadata.lastSignInTime).toLocaleString()}`;
                navigator.clipboard.writeText(userInfo).then(() => {
                    showCopyNotification('ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
                });
            }
        }
        
        function showCopyNotification(message) {
            const notification = document.createElement('div');
            notification.textContent = `âœ… ${message}`;
            notification.style.cssText = `
                position: fixed;
                top: 50px;
                right: 20px;
                background: #28a745;
                color: white;
                padding: 10px 15px;
                border-radius: 5px;
                z-index: 9999;
                font-size: 12px;
                animation: fadeInOut 3s ease-in-out;
            `;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }
        
        // ã‚³ãƒ”ãƒ¼é€šçŸ¥ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translateY(-20px); }
                20%, 80% { opacity: 1; transform: translateY(0); }
                100% { opacity: 0; transform: translateY(-20px); }
            }
        `;
        document.head.appendChild(style);

        // å…¨ãƒ­ã‚°ã‚³ãƒ”ãƒ¼
        window.copyAllLogs = async () => {
            const logContent = document.getElementById('logArea').textContent;
            try {
                await navigator.clipboard.writeText(logContent);
                log('ğŸ“‹ å…¨ãƒ­ã‚°ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
            } catch (err) {
                log('âŒ ã‚³ãƒ”ãƒ¼å¤±æ•—: ' + err.message);
            }
        };

        // ãƒ­ã‚°å‡ºåŠ›é–¢æ•°
        function log(message) {
            const logArea = document.getElementById('logArea');
            const timestamp = new Date().toLocaleTimeString();
            logArea.innerHTML += `[${timestamp}] ${message}<br>`;
            logArea.scrollTop = logArea.scrollHeight;
            console.log(`[${timestamp}] ${message}`);
        }

        // åˆæœŸåŒ–ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        log('ğŸš€ Universal Template v0.1 å®Œå…¨èµ·å‹•');
        log('ğŸ’¡ Googleèªè¨¼å¾Œã«ã™ã¹ã¦ã®æ©Ÿèƒ½ãŒä½¿ç”¨å¯èƒ½ã§ã™');
        log('ğŸš« LocalStorageå›é¿æ¤œå‡º - Firebaseå¼·åˆ¶ä½¿ç”¨');
        log('ğŸ”§ multi-app-manager-v0.4ã®å‹•ä½œå®Ÿè£…ã‚’å®Œå…¨ç§»æ¤æ¸ˆã¿');
        log('âœ… FirebaseAuthCore, FirebaseDataCore æº–å‚™å®Œäº†');
        log('ğŸ¯ ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½å¼·åŒ– - å®Œå…¨ãƒ­ã‚°å‡ºåŠ›å¯¾å¿œ');
    </script>
</body>
</html>